# 眼镜控制API文档

## 注意事项
与眼镜端硬件信息相关内容，需要保证手机端与眼镜端的蓝牙通道处于连接状态。

## 1. 获取眼镜信息
通过`fun getGlassInfo(callback: GlassInfoResultCallback): ValueUtil.CxrStatus`方法获取所有的信息。

### 示例代码
```kotlin
/**
 * Get glasses information
 */
fun getGlassesInfo() {
    CxrApi.getInstance().getGlassInfo(object : GlassInfoResultCallback {
        /**
         * Get Glasses information
         *
         * @param status information Got Status
         * @see ValueUtil.CxrStatus
         * @see ValueUtil.CxrStatus.RESPONSE_SUCCEED response succeed
         * @see ValueUtil.CxrStatus.RESPONSE_INVALID response invalid
         * @see ValueUtil.CxrStatus.RESPONSE_TIMEOUT response timeout
         * @param glassesInfo glasses information
         * @see GlassInfo
         */
        override fun onGlassInfoResult(
            status: ValueUtil.CxrStatus?,
            glassesInfo: GlassInfo?
        ) {
        }
    })
}
```

## 2. 同步眼镜时间和时区
通过`fun setGlassTime(): CxrStatus`方法同步眼镜的时间和时区。

### 示例代码
```kotlin
/**
 * Sync Time
 * @return CxrStatus: REQUEST_FAILED, REQUEST_SUCCEED, REQUEST_WAITING
 * REQUEST_SUCCEED: Set time success
 * REQUEST_WAITING: Waiting for response from glasses, Do Not Need Call Again
 * REQUEST_FAILED: Set time failed
 * @see CxrStatus
 */
fun setTime(): CxrStatus{
    return CxrApi.getInstance().setGlassTime()
}
```

## 3. 设置监听眼镜亮度
通过`fun setGlassBrightness(int value):CxrStatus`对眼镜亮度进行设置。其中亮度值的范围是[0, 15]。设置成功后，可以通过设置的`BrightnessUpdateListener`接口的`fun onBrightnessUpdated(p0: Int)`回调中获取到设置结果。同时，如果眼镜端手动修改亮度信息，也可以在回调中进行监听。

### 示例代码
```kotlin
// Get glasses brightness
private val glassesBrightnessUpdateListener = object : BrightnessUpdateListener {
    /**
     * Brightness updated
     *
     * @param brightness brightness value range[0-15]
     */
    override fun onBrightnessUpdated(brightness: Int) {
    }
}

/**
 * Get glasses brightness
 */
fun getGlassesBrightness(set : Boolean) {
    CxrApi.getInstance().setBrightnessUpdateListener(if (set) glassesBrightnessUpdateListener else null)
}

/**
 * Set glasses brightness
 *
 * @param brightness brightness value range[0-15]
 * @return set brightness status
 * @see ValueUtil.CxrStatus
 * @see ValueUtil.CxrStatus.REQUEST_SUCCEED request succeed
 * @see ValueUtil.CxrStatus.REQUEST_WAITING request waiting, do not request again
 * @see ValueUtil.CxrStatus.REQUEST_FAILED request failed
 */
fun setBrightness(brightness: Int): ValueUtil.CxrStatus? {
    return CxrApi.getInstance().setGlassBrightness( brightness)
}
```

## 4. 设置和监听眼镜音量
通过`fun setGlassVolume(int value): CxrStatus`对眼镜音量进行设置。其中音量值的范围是[0, 15]。设置成功后，可以通过设置的`VolumeUpdateListener`接口的`fun onVolumeUpdated(p0: Int)`回调中获取到设置结果。同时，如果眼镜端手动修改音量，也可以在回调中进行监听。

### 示例代码
```kotlin
// Get glasses volume
private val volumeUpdate = object : VolumeUpdateListener{
    /**
     * Volume updated
     *
     * @param volume volume value range[0-15]
     */
    override fun onVolumeUpdated(volume: Int) {
    }
}

/**
 * Get glasses volume
 *
 * @param set true:set volume listener false:remove volume listener
 */
fun getGlassesVolume(set: Boolean){
    CxrApi.getInstance().setVolumeUpdateListener(if (set) volumeUpdate else null)
}

/**
 * Set glasses volume
 *
 * @param volume volume value range[0-15]
 * @return set volume status
 * @see ValueUtil.CxrStatus
 * @see ValueUtil.CxrStatus.REQUEST_SUCCEED request succeed
 * @see ValueUtil.CxrStatus.REQUEST_WAITING request waiting, do not request again
 * @see ValueUtil.CxrStatus.REQUEST_FAILED request failed
 */
fun setVolume(volume: Int): ValueUtil.CxrStatus? {
    return CxrApi.getInstance().setGlassVolume(volume)
}
```

## 5. 设置眼镜声音音效模式
可以通过`fun setSoundEffect(mode: String)`设置眼镜声音播放音效，目前可以设置洪亮模式（AdiMode0）、韵律模式（AdiMode1）、博客模式（AdiMode2）。

### 示例代码
```kotlin
/**
 * Set glasses sound effect
 *
 * @param value sound effect value "AdiMode0": Loud, "AdiMode1": Rhythm, "AdiMode2": Podcast
 * @return set sound effect status
 * @see ValueUtil.CxrStatus
 * @see ValueUtil.CxrStatus.REQUEST_SUCCEED request succeed
 * @see ValueUtil.CxrStatus.REQUEST_WAITING request waiting, do not request again
 * @see ValueUtil.CxrStatus.REQUEST_FAILED request failed
 */
fun setSoundEffect(value: String): ValueUtil.CxrStatus?{
    return CxrApi.getInstance().setSoundEffect(value)
}
```

## 6. 监听眼镜电量变化
可以通过设置`BatteryLevelUpdateListener`接口的`fun onBatteryLevelUpdated(level: Int, charging: Boolean)`回调中获取电量变化结果。

### 示例代码
```kotlin
CxrApi.getInstance().setBatteryLevelUpdateListener(object : BatteryLevelUpdateListener{
    /**
     * Battery level updated
     *
     * @param level battery level[0-100]
     * @param charging battery charging status true:charging false:not charging
     */
    override fun onBatteryLevelUpdated(level: Int, charging: Boolean) {
    }
})
}
```

## 7. 设置自动熄屏时间
可以通过`fun setScreenOffTimeout(second: Long): ValueUtil.CxrStatus?`接口设置自动熄屏时间，单位为秒。

### 示例代码
```kotlin
/**
 * Set glasses screen off timeout
 *
 * @param seconds timeout value
 *
 * @return set screen off timeout status
 * @see ValueUtil.CxrStatus
 * @see ValueUtil.CxrStatus.REQUEST_SUCCEED request succeed
 * @see ValueUtil.CxrStatus.REQUEST_WAITING request waiting, do not request again
 * @see ValueUtil.CxrStatus.REQUEST_FAILED request failed
 */
fun setScreenOffTimeout(seconds: Long): ValueUtil.CxrStatus?{
    return CxrApi.getInstance().setScreenOffTimeout(seconds)
}
```

## 8. 设置自动关机时间
可以通过`fun setPowerOffTimeout(minutes: Int): ValueUtil.CxrStatus?`接口设置自动关机时间，单位为分。

### 示例代码
```kotlin
/**
 * Set glasses power off timeout
 *
 * @param minutes timeout value
 *
 * @return set power off timeout status
 * @see ValueUtil.CxrStatus
 * @see ValueUtil.CxrStatus.REQUEST_SUCCEED request succeed
 * @see ValueUtil.CxrStatus.REQUEST_WAITING request waiting, do not request again
 * @see ValueUtil.CxrStatus.REQUEST_FAILED request failed
 */
fun setPowerOffTimeout(minutes: Int): ValueUtil.CxrStatus?{
    return CxrApi.getInstance().setPowerOffTimeout(minutes)
}
```

## 9. 通知眼镜重启
可以通过`fun notifyGlassReboot():ValueUtil.CxrStatus?`接口控制眼镜重启。

### 示例代码
```kotlin
/**
 * Reboot glasses
 *
 * @return reboot glasses status
 * @see ValueUtil.CxrStatus
 * @see ValueUtil.CxrStatus.REQUEST_SUCCEED request succeed
 * @see ValueUtil.CxrStatus.REQUEST_WAITING request waiting, do not request again
 * @see ValueUtil.CxrStatus.REQUEST_FAILED request failed
 */
fun rebootGlasses(): ValueUtil.CxrStatus{
    return CxrApi.getInstance().notifyGlassReboot()
}
```

## 10. 通知眼镜关机
可以通过`fun notifyGlassShutdown():ValueUtil.CxrStatus?`接口控制眼镜重启。

### 示例代码
```kotlin
/**
 * Shutdown glasses
 *
 * @return shutdown glasses status
 * @see ValueUtil.CxrStatus
 * @see ValueUtil.CxrStatus.REQUEST_SUCCEED request succeed
 * @see ValueUtil.CxrStatus.REQUEST_WAITING request waiting, do not request again
 * @see ValueUtil.CxrStatus.REQUEST_FAILED request failed
 */
fun shutdownGlasses(): ValueUtil.CxrStatus{
    return CxrApi.getInstance().notifyGlassShutdown()
}